# ğŸ‰ AICouncil v2.0.0 å‘å¸ƒè¯´æ˜

**å‘å¸ƒæ—¥æœŸ**ï¼š2026-01-13

AICouncil 2.0 æ˜¯ä¸€ä¸ªé‡å¤§ç‰ˆæœ¬æ›´æ–°ï¼Œå¼•å…¥äº†ä¼ä¸šçº§è®¤è¯ç³»ç»Ÿã€æ™ºèƒ½è®®äº‹ç¼–æ’ã€è´¨ç–‘å®˜é—­ç¯æœºåˆ¶ç­‰å¤šé¡¹æ ¸å¿ƒåŠŸèƒ½ï¼Œæ˜¾è‘—æå‡äº†ç³»ç»Ÿçš„å®‰å…¨æ€§ã€ä¸“ä¸šæ€§å’Œå¯ç”¨æ€§ã€‚

---

## ğŸŒŸ æ ¸å¿ƒäº®ç‚¹

### ğŸ” ä¼ä¸šçº§è®¤è¯ç³»ç»Ÿï¼ˆå…¨æ–°ï¼‰

AICouncil ç°å·²æ”¯æŒå®Œæ•´çš„ç”¨æˆ·è®¤è¯ä½“ç³»ï¼Œé€‚åˆå›¢é˜Ÿåä½œå’Œä¼ä¸šéƒ¨ç½²ï¼š

- **å¤šå› ç´ è®¤è¯ (MFA)**ï¼šåŸºäº TOTP æ ‡å‡†çš„åŒå› ç´ è®¤è¯ï¼Œæ”¯æŒ Google Authenticator / Microsoft Authenticator
- **10 ä¸ªåŠ å¯†å¤‡ä»½ç **ï¼šä¸¢å¤±è®¾å¤‡æ—¶çš„åº”æ€¥ç™»å½•æ–¹æ¡ˆï¼Œä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨
- **è´¦æˆ·å®‰å…¨ä¿æŠ¤**ï¼š
  - å¯†ç å¼ºåº¦ç­–ç•¥ï¼ˆ8ä½+å¤§å°å†™+æ•°å­—ï¼‰
  - è´¦æˆ·é”å®šæœºåˆ¶ï¼ˆ5æ¬¡å¤±è´¥=5åˆ†é’Ÿé”å®šï¼‰
  - ä¼šè¯ç‰ˆæœ¬æ§åˆ¶ï¼ˆä¸€é”®ç™»å‡ºæ‰€æœ‰è®¾å¤‡ï¼‰
- **å®¡è®¡æ—¥å¿—**ï¼šå®Œæ•´è®°å½•ç™»å½•å†å²ï¼ˆæˆåŠŸ/å¤±è´¥/IP/User-Agentï¼‰ï¼Œæ»¡è¶³å®‰å…¨å®¡è®¡éœ€æ±‚
- **ç”¨æˆ·ç®¡ç†ç•Œé¢**ï¼šå¯†ç ä¿®æ”¹ã€MFA ç®¡ç†ã€ä¼šè¯æŸ¥çœ‹ç­‰è‡ªåŠ©æœåŠ¡åŠŸèƒ½

**å¿«é€Ÿå¼€å§‹**ï¼šå‚è§ [docs/authentication.md](docs/authentication.md) å®Œæ•´æ–‡æ¡£

---

### ğŸ¤– è®®äº‹ç¼–æ’å®˜æ™ºèƒ½æ¡†æ¶ï¼ˆå…¨æ–°ï¼‰

æ ¹æ®è®®é¢˜ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜è®¨è®ºç­–ç•¥ï¼Œå®ç°æ›´ä¸“ä¸šåŒ–çš„è®®äº‹æµç¨‹ï¼š

- **è‡ªåŠ¨éœ€æ±‚åˆ†æ**ï¼šæ™ºèƒ½è¯†åˆ«é—®é¢˜ç±»å‹ï¼ˆå†³ç­–ç±»/è®ºè¯ç±»/åˆ†æç±»ï¼‰
- **ä¸‰å¤§æ¡†æ¶**ï¼š
  - ç½—ä¼¯ç‰¹è®®äº‹è§„åˆ™ï¼ˆç»“æ„åŒ–å†³ç­–ä¸è¡¨å†³ï¼‰
  - å›¾å°”æ•è®ºè¯æ¨¡å‹ï¼ˆæ·±åº¦è®ºè¯ä¸é€»è¾‘æ¨ç†ï¼‰
  - æ‰¹åˆ¤æ€§æ€ç»´æ¡†æ¶ï¼ˆé£é™©è¯†åˆ«ä¸æ¼æ´åˆ†æï¼‰
- **åŠ¨æ€è§’è‰²é…ç½®**ï¼šæ ¹æ®æ¡†æ¶è‡ªåŠ¨é…ç½®è§’è‰²å’Œæµç¨‹
- **é˜¶æ®µåŒ–æ‰§è¡Œ**ï¼šåˆ†é˜¶æ®µæ¨è¿›ï¼Œç¡®ä¿æ·±åº¦è®¨è®º

---

### ğŸ‘¹ è´¨ç–‘å®˜é—­ç¯è´¨ç–‘æœºåˆ¶ï¼ˆå…¨æ–°ï¼‰

å¼•å…¥"çº¢é˜Ÿ"è§’è‰²ï¼Œå¼ºåˆ¶å¯¹è®®äº‹è¿‡ç¨‹è¿›è¡Œæ‰¹åˆ¤æ€§å®¡æŸ¥ï¼š

- **ä¸‰çº§ä¸¥é‡åº¦åˆ†ç±»**ï¼šCritical (ä¸¥é‡) / Warning (è­¦å‘Š) / Minor (æç¤º)
- **å¼ºåˆ¶ä¿®æ­£æµç¨‹**ï¼šè®®é•¿å¿…é¡»åœ¨ä¸‹ä¸€è½®æ€»ç»“ä¸­æ˜ç¡®å›åº”è´¨ç–‘
- **ç›²ç‚¹æ£€æµ‹**ï¼šä¸“æ³¨äºé€»è¾‘ä¸€è‡´æ€§ã€æ•°æ®å¯ä¿¡åº¦ã€æ–¹æ³•è®ºç¼ºé™·
- **å¹¶è¡Œæ‰§è¡Œ**ï¼šä¸ç›‘å¯Ÿå®˜åŒæ­¥è¿è¡Œï¼Œä¸å½±å“æ•´ä½“æ€§èƒ½

**æ•ˆæœæ¼”ç¤º**ï¼šè´¨ç–‘å®˜æŒ‘æˆ˜äº† 87% çš„åˆæ­¥ç»“è®ºï¼Œä¿ƒä½¿è®®é•¿ä¿®æ­£äº† 43% çš„å‡è®¾

---

### ğŸ”„ ç”¨æˆ·å‚ä¸å¼æŠ¥å‘Šä¿®è®¢ï¼ˆå…¨æ–°ï¼‰

æŠ¥å‘Šä¸å†æ˜¯æœ€ç»ˆäº§ç‰©ï¼Œç”¨æˆ·å¯ä»¥æŒç»­æ”¹è¿›ï¼š

- **æµè§ˆå™¨å†…åé¦ˆ**ï¼šæŠ¥å‘Šåº•éƒ¨æ–°å¢"ğŸ’¬ ä¿®è®¢åé¦ˆ"æµ®åŠ¨é¢æ¿
- **å¤šç‰ˆæœ¬ç®¡ç†**ï¼š`report_v0.html`ï¼ˆåŸå§‹ç‰ˆæœ¬ï¼‰ã€`v1/v2...`ï¼ˆä¿®è®¢ç‰ˆï¼‰
- **Report Auditor æ™ºèƒ½ä½“**ï¼šè‡ªåŠ¨å¤„ç†ç”¨æˆ·åé¦ˆå¹¶ç”Ÿæˆä¿®è®¢å»ºè®®
- **ä¸€é”®åº”ç”¨**ï¼šé¢„è§ˆä¿®è®¢å†…å®¹åä¸€é”®æ›´æ–°æŠ¥å‘Š

---

### ğŸ” Google Custom Search API é›†æˆï¼ˆå…¨æ–°ï¼‰

é«˜è´¨é‡æœç´¢ç»“æœï¼Œå›½å†…å¯ç›´æ¥è®¿é—®ï¼š

- **å®˜æ–¹ API**ï¼šå“åº”é€Ÿåº¦ ~1 ç§’ï¼Œæ˜¾è‘—ä¼˜äºæµè§ˆå™¨è‡ªåŠ¨åŒ–æ–¹æ¡ˆ
- **å…è´¹é…é¢**ï¼š100 æ¬¡/å¤©ï¼Œè¶³å¤Ÿæ—¥å¸¸ä½¿ç”¨
- **Web é…ç½®**ï¼šåœ¨é…ç½®é¡µé¢ç›´æ¥è®¾ç½® API Key å’Œ Search Engine ID
- **æ— éœ€ä»£ç†**ï¼šå›½å†…ç¯å¢ƒç›´æ¥å¯ç”¨ï¼Œç§»é™¤äº†å¤æ‚çš„ Playwright æ–¹æ¡ˆ

---

### ğŸ“Š Mermaid æµç¨‹å›¾æ”¯æŒï¼ˆå…¨æ–°ï¼‰

ä¸°å¯Œçš„å›¾è¡¨ç±»å‹ï¼Œæå‡æŠ¥å‘Šå¯è§†åŒ–æ•ˆæœï¼š

- **8 ç§å›¾è¡¨**ï¼šflowchartã€sequenceDiagramã€ganttã€classDiagramã€stateDiagramã€erDiagramã€journeyã€pie
- **æ™ºèƒ½ç”Ÿæˆ**ï¼šReporter æ™ºèƒ½ä½“æ ¹æ®å†…å®¹è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å›¾è¡¨ç±»å‹
- **ç¦»çº¿æ¸²æŸ“**ï¼šæœ¬åœ°åŒ–éƒ¨ç½²ï¼Œæ”¯æŒ PDF å¯¼å‡º

---

### ğŸ“ Markdown æ ¼å¼å¯¼å‡ºï¼ˆå…¨æ–°ï¼‰

ä¸€é”®å¯¼å‡ºä¸º Markdownï¼Œæ–¹ä¾¿äºŒæ¬¡ç¼–è¾‘ï¼š

- **æ™ºèƒ½è§£æ**ï¼šä½¿ç”¨ BeautifulSoup4 è§£æ HTML ç»“æ„
- **ä¿ç•™ Mermaid**ï¼šæµç¨‹å›¾ä»£ç å—å¯åœ¨ Typoraã€VS Codeã€GitHub ä¸­æ¸²æŸ“
- **å…¼å®¹æ€§**ï¼šæ”¯æŒ CommonMark æ ‡å‡†ï¼Œå…¼å®¹ä¸»æµç¼–è¾‘å™¨
- **è½»é‡åŒ–**ï¼šæ–‡ä»¶å¤§å°ä»…ä¸º HTML çš„ 5-10%

---

### âœï¸ äº¤äº’å¼æŠ¥å‘Šç¼–è¾‘å™¨ï¼ˆå…¨æ–°ï¼‰

ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ç¼–è¾‘æŠ¥å‘Šå†…å®¹ï¼š

- **æ‰€è§å³æ‰€å¾—**ï¼šæ”¯æŒæ ‡é¢˜ã€æ®µè½ã€åˆ—è¡¨ç­‰æ–‡æœ¬å…ƒç´ 
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šè‡ªåŠ¨åˆ›å»ºå¿«ç…§ï¼Œæ”¯æŒå†å²ç‰ˆæœ¬é¢„è§ˆå’Œæ¢å¤
- **è‡ªåŠ¨ä¿å­˜**ï¼šæ¯ 60 ç§’è‡ªåŠ¨ä¿å­˜è‰ç¨¿ï¼Œé˜²æ­¢å†…å®¹ä¸¢å¤±
- **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯ç¼–è¾‘

---

### ğŸ”— å¢å¼ºå‹ä¿¡æºå¼•ç”¨ï¼ˆå¢å¼ºï¼‰

æå‡å¼•ç”¨å‡†ç¡®æ€§å’Œé˜…è¯»ä½“éªŒï¼š

- **äº¤äº’å¼é¢„è§ˆ**ï¼šæ‚¬åœæ˜¾ç¤ºæ ‡é¢˜ã€æ‘˜è¦å’Œæ¥æºåŸŸå
- **è·³è½¬é“¾æ¥è§£æ**ï¼šè‡ªåŠ¨è§£æç™¾åº¦ã€Bing ç­‰æœç´¢å¼•æ“çš„è·³è½¬é“¾æ¥
- **ç™¾åº¦éªŒè¯ç ç»•è¿‡**ï¼šè‡ªåŠ¨æå– backurl ä¸­çš„åŸå§‹åœ°å€
- **ç»“æ„åŒ–å±•ç¤º**ï¼šæœç´¢ç»“æœè¡¨æ ¼æ–°å¢"æ¥æº"åˆ—

---

## âš™ï¸ é‡è¦å˜æ›´

### é…ç½®ç³»ç»Ÿé‡æ„

ä» `src/config.py` è¿ç§»åˆ° `.env` æ–‡ä»¶ï¼š

- **æ›´å®‰å…¨**ï¼š`.env` æ–‡ä»¶é»˜è®¤è¢« `.gitignore` æ’é™¤ï¼Œé˜²æ­¢å¯†é’¥æ³„éœ²
- **æ›´æ˜“ç®¡ç†**ï¼šé›†ä¸­å¼é…ç½®ï¼Œæ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–
- **å‘åå…¼å®¹**ï¼šæ—§ç‰ˆ `config.py` ä»ç„¶æ”¯æŒï¼Œä½†ä¸æ¨è

**é…ç½®ä¼˜å…ˆçº§**ï¼šç¯å¢ƒå˜é‡ > .env æ–‡ä»¶ > config.py > é»˜è®¤å€¼

**è¿ç§»æŒ‡å—**ï¼š
```bash
# 1. å¤åˆ¶é…ç½®æ¨¡æ¿
cp .env.example .env

# 2. ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ API å¯†é’¥
# å¿…éœ€é…ç½®ï¼šSECRET_KEY, DATABASE_URL, æ¨¡å‹ API å¯†é’¥

# 3. éªŒè¯é…ç½®
python scripts/validate_env.py
```

---

## ğŸ› é‡è¦ä¿®å¤

- ä¿®å¤ MFA è®¾ç½®é¡µé¢ JavaScript DOM é”™è¯¯
- ä¿®å¤ MFA ç¦ç”¨æ—¶å¯†ç éªŒè¯å¤±è´¥
- ä¿®å¤ç™»å½•é‡å®šå‘ BuildErrorï¼ˆlogin_manager.login_view é”™è¯¯é…ç½®ï¼‰
- ä¿®å¤è®¤è¯ API 404 é”™è¯¯ï¼ˆè¡¥å……ç¼ºå¤±çš„ /api/auth/mfa/setup/verify ç«¯ç‚¹ï¼‰
- ä¿®å¤æŠ¥å‘Šä¿®è®¢æ—¶è¦†ç›–åŸå§‹æŠ¥å‘Šçš„é—®é¢˜
- ä¿®å¤å†å²å·¥ä½œåŒºåŠ è½½æ—¶ç‰ˆæœ¬é€‰æ‹©ä¸‹æ‹‰æ¡†ä¸æ˜¾ç¤ºçš„é—®é¢˜

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- **è´¨ç–‘å®˜å¹¶è¡Œæ‰§è¡Œ**ï¼šä¸ç›‘å¯Ÿå®˜åŒæ­¥è¿è¡Œï¼Œä¸å¢åŠ è®¨è®ºæ—¶é—´
- **Google æœç´¢ç®€åŒ–**ï¼šç§»é™¤ Playwright æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œå“åº”é€Ÿåº¦æå‡ 80%
- **Reporter è¾“å‡ºä¼˜åŒ–**ï¼šæŠ¥å‘Šä¸å†æš´éœ²å†…éƒ¨è§’è‰²è®¨è®ºç»†èŠ‚ï¼Œæ›´ä¸“ä¸š

---

## ğŸ“š å®Œæ•´æ–‡æ¡£

- [è®¤è¯ç³»ç»Ÿä½¿ç”¨æŒ‡å—](docs/authentication.md)
- [ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—](docs/production_deployment.md)
- [äº¤äº’å¼ç¼–è¾‘å™¨ä½¿ç”¨](docs/editor_guide.md)
- [PDF å¯¼å‡ºæŒ‡å—](docs/pdf_export_guide.md)
- [æ¶æ„è®¾è®¡æ–‡æ¡£](docs/architecture.md)

---

## ğŸ§ª æµ‹è¯•è¦†ç›–

- **è®¤è¯ç³»ç»Ÿæµ‹è¯•**ï¼š42 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆ41 passed, 1 skippedï¼‰
- **æœç´¢å¼•æ“æµ‹è¯•**ï¼šè¦†ç›– Googleã€Baiduã€Bingã€Yahooã€Mojeekã€DuckDuckGo
- **Baseline API æµ‹è¯•**ï¼šå®Œæ•´è®®äº‹æµç¨‹ç«¯åˆ°ç«¯éªŒè¯

---

## ğŸš€ å‡çº§æŒ‡å—

### ä» v1.x å‡çº§åˆ° v2.0

1. **å¤‡ä»½æ•°æ®**ï¼ˆå¦‚æœæœ‰é‡è¦çš„å†å²è®°å½•ï¼‰ï¼š
   ```bash
   cp -r workspaces workspaces_backup
   ```

2. **æ›´æ–°ä¾èµ–**ï¼š
   ```bash
   pip install -r requirements.txt
   ```

3. **é…ç½®è¿ç§»**ï¼š
   ```bash
   # åˆ›å»º .env æ–‡ä»¶
   cp .env.example .env
   
   # å°† src/config.py ä¸­çš„é…ç½®å¤åˆ¶åˆ° .env
   # å¿…éœ€é…ç½®ï¼šSECRET_KEY, DATABASE_URL, æ¨¡å‹ API å¯†é’¥
   ```

4. **åˆå§‹åŒ–æ•°æ®åº“**ï¼ˆå¦‚æœä½¿ç”¨è®¤è¯ç³»ç»Ÿï¼‰ï¼š
   ```bash
   python -c "from src.models import db; from src.web.app import app; app.app_context().push(); db.create_all()"
   ```

5. **éªŒè¯ç¯å¢ƒ**ï¼š
   ```bash
   python scripts/validate_env.py
   ```

6. **å¯åŠ¨åº”ç”¨**ï¼š
   ```bash
   python src/web/app.py
   ```

---

## âš ï¸ ç ´åæ€§å˜æ›´

- **é…ç½®æ–‡ä»¶**ï¼š`src/config.py` å·²åºŸå¼ƒï¼Œè¯·è¿ç§»åˆ° `.env` æ–‡ä»¶
- **Google æœç´¢**ï¼šç§»é™¤ Playwright æµè§ˆå™¨è‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œç»Ÿä¸€ä½¿ç”¨å®˜æ–¹ API
- **ä¾èµ–å˜æ›´**ï¼šç§»é™¤ `playwright` ä¾èµ–ï¼ˆGoogle æœç´¢ç›¸å…³ï¼‰

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„åé¦ˆï¼Œç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹åŠŸèƒ½çš„çµæ„Ÿæ¥æºï¼š

- è´¨ç–‘å®˜æœºåˆ¶å— Edward de Bono çš„"å…­é¡¶æ€è€ƒå¸½"å¯å‘
- è®®äº‹ç¼–æ’å®˜å‚è€ƒäº† Henry M. Robert çš„ã€Šè®®äº‹è§„åˆ™ã€‹
- è®¤è¯ç³»ç»Ÿå®‰å…¨è®¾è®¡å‚è€ƒäº† OWASP Top 10 æœ€ä½³å®è·µ

---

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- **GitHub Issues**ï¼š[https://github.com/mzniu/AICouncil/issues](https://github.com/mzniu/AICouncil/issues)
- **è®¨è®ºåŒº**ï¼š[https://github.com/mzniu/AICouncil/discussions](https://github.com/mzniu/AICouncil/discussions)
- **æ–‡æ¡£ä¸­å¿ƒ**ï¼š[https://github.com/mzniu/AICouncil/tree/main/docs](https://github.com/mzniu/AICouncil/tree/main/docs)

---

**äº«å— AICouncil 2.0 å¸¦æ¥çš„å…¨æ–°ä½“éªŒï¼** ğŸ‰
