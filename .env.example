# ========================================
# Flask 应用配置
# ========================================

# 必需：随机密钥（用于session加密，生产环境必须修改）
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
# 或使用CLI: flask generate-secret-key
SECRET_KEY=your-secret-key-here-please-change-this-in-production

# Flask运行环境 (development | production)
FLASK_ENV=development

# ========================================
# 数据库配置
# ========================================

# 数据库URI（默认使用SQLite相对路径 data/users.db，自动创建data目录）
# ⚠️ 推荐：注释掉此行或留空，使用默认相对路径（跨机器兼容）
# DATABASE_URL=

# 如需自定义绝对路径（不推荐，跨机器不兼容）：
# DATABASE_URL=sqlite:///D:/git/MyCouncil/data/users.db

# 对于生产环境，可以使用PostgreSQL或MySQL：
# DATABASE_URL=postgresql://user:password@localhost/dbname
# DATABASE_URL=mysql://user:password@localhost/dbname

# ========================================
# 用户注册配置
# ========================================

# 是否允许公开注册（false=仅管理员创建账户, true=允许自助注册）
ALLOW_PUBLIC_REGISTRATION=false

# ========================================
# Session会话配置
# ========================================

# Session超时时间（秒，默认30天 = 2592000秒）
PERMANENT_SESSION_LIFETIME=2592000

# Session Cookie名称（可自定义）
SESSION_COOKIE_NAME=aicouncil_session

# 是否强制使用HTTPS传输session cookie（生产环境建议true）
SESSION_COOKIE_SECURE=false

# HttpOnly标志（防止JavaScript访问cookie，建议true）
SESSION_COOKIE_HTTPONLY=true

# SameSite策略（Strict | Lax | None，建议Lax）
SESSION_COOKIE_SAMESITE=Lax

# Session存储类型（sqlalchemy | filesystem | redis）
SESSION_TYPE=sqlalchemy

# ========================================
# 安全配置
# ========================================

# 账户锁定配置
# 连续登录失败次数阈值（超过后锁定账户）
ACCOUNT_LOCKOUT_THRESHOLD=5

# 账户锁定时长（秒，默认5分钟 = 300秒）
ACCOUNT_LOCKOUT_DURATION=300

# MFA验证超时时间（秒，默认10分钟 = 600秒）
MFA_TIMEOUT=600

# 密码最小长度
PASSWORD_MIN_LENGTH=8

# 是否要求密码包含大写字母
PASSWORD_REQUIRE_UPPERCASE=true

# 是否要求密码包含小写字母
PASSWORD_REQUIRE_LOWERCASE=true

# 是否要求密码包含数字
PASSWORD_REQUIRE_DIGIT=true

# 是否要求密码包含特殊字符
PASSWORD_REQUIRE_SPECIAL=true

# ========================================
# SMTP邮件配置（用于MFA恢复、通知等，可选）
# ========================================

# SMTP服务器地址
SMTP_SERVER=smtp.126.com

# SMTP端口（通常为587或465）
SMTP_PORT=25

# 是否使用TLS/SSL
SMTP_USE_TLS=true

# SMTP用户名（通常是邮箱地址）
SMTP_USERNAME=

# SMTP密码或应用专用密码
SMTP_PASSWORD=

# 发件人显示名称
SMTP_FROM_NAME=AICouncil

# 发件人邮箱地址
SMTP_FROM_EMAIL=noreply@example.com

# ========================================
# 日志配置
# ========================================

# 日志级别 (DEBUG | INFO | WARNING | ERROR)
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=aicouncil.log

# ========================================
# AI模型配置（议事系统）
# ========================================

# 模型后端类型 (ollama | deepseek | openai | openrouter | aliyun)
MODEL_BACKEND=ollama

# 默认模型名称
MODEL_NAME=qwen3:4b

# DeepSeek API配置
DEEPSEEK_API_KEY=
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# OpenAI API配置
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o

# OpenRouter API配置
OPENROUTER_API_KEY=
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODEL=google/gemini-3-flash-preview

# Aliyun DashScope API配置
ALIYUN_API_KEY=
ALIYUN_BASE_URL=https://dashscope.aliyuncs.com/api/v1
ALIYUN_MODEL=qwen-plus

# Ollama HTTP端点
OLLAMA_HTTP_URL=http://127.0.0.1:11434/api/generate

# ========================================
# 搜索引擎配置
# ========================================

# 搜索引擎选择 (可多选，逗号分隔)
# 可选值: tavily, duckduckgo, bing, baidu, yahoo, mojeek, google
SEARCH_PROVIDER=baidu,yahoo,google

# Google搜索API配置
GOOGLE_API_KEY=
GOOGLE_SEARCH_ENGINE_ID=

# Tavily搜索API配置
TAVILY_API_KEY=

# ========================================
# 开发配置（可选）
# ========================================

# 是否启用Flask调试模式（生产环境必须false）
FLASK_DEBUG=false

# 浏览器路径（用于DrissionPage搜索，设为auto自动检测）
BROWSER_PATH=C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe

# ========================================
# 图片搜索 API 配置（可选，增强报告配图）
# ========================================

# Unsplash API（https://unsplash.com/developers）
UNSPLASH_ACCESS_KEY=

# Pexels API（https://www.pexels.com/api/）
PEXELS_API_KEY=

# ========================================
# 图片多模态分析配置（可选）
# ========================================
# 留空则自动复用已配置的 OpenRouter / Aliyun / OpenAI 密钥
# 仅当需要专用视觉模型时才填写

# 视觉模型名称（如 google/gemini-2.0-flash-exp:free、qwen-vl-max、gpt-4o-mini）
IMAGE_ANALYSIS_MODEL=

# 专用 API 密钥（留空则复用上方 AI 模型配置中的对应密钥）
IMAGE_ANALYSIS_API_KEY=

# 专用 API 地址（留空则复用上方对应后端地址）
IMAGE_ANALYSIS_BASE_URL=
