<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ˜å å†…å®¹å±•å¼€æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            padding: 40px;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 { color: #2563eb; border-bottom: 3px solid #2563eb; padding-bottom: 10px; }
        h2 { color: #0ea5e9; margin-top: 30px; }
        .section { background: #f0f9ff; padding: 20px; border-radius: 8px; margin: 20px 0; }
        
        /* æµ‹è¯•CSSæŠ˜å  */
        .collapsed {
            max-height: 0;
            opacity: 0;
            padding-top: 0;
            padding-bottom: 0;
            margin: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .collapsible-content {
            background: #fef3c7;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #f59e0b;
        }
        
        /* æµ‹è¯•hiddenç±» */
        .hidden { display: none; }
        
        details {
            background: #e0f2fe;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        summary {
            cursor: pointer;
            font-weight: bold;
            color: #0369a1;
        }
        summary:hover { color: #0284c7; }
    </style>
</head>
<body>
    <h1>ğŸ§ª æŠ˜å å†…å®¹å±•å¼€æµ‹è¯•é¡µé¢</h1>
    
    <div class="section">
        <h2>1. CSSæŠ˜å æµ‹è¯• (.collapsed)</h2>
        <p>ä»¥ä¸‹å†…å®¹é»˜è®¤æŠ˜å ï¼ˆä½¿ç”¨ <code>.collapsed</code> ç±»ï¼‰ï¼š</p>
        <button onclick="toggleCollapsed('content1')">åˆ‡æ¢æ˜¾ç¤º</button>
        
        <div id="content1" class="collapsible-content collapsed">
            <h3>è¿™æ˜¯è¢«æŠ˜å çš„å†…å®¹</h3>
            <p>è¿™æ®µæ–‡å­—åœ¨PDFå¯¼å‡ºæ—¶åº”è¯¥è‡ªåŠ¨å±•å¼€æ˜¾ç¤ºã€‚</p>
            <ul>
                <li>æŠ˜å é¡¹ç›® 1</li>
                <li>æŠ˜å é¡¹ç›® 2</li>
                <li>æŠ˜å é¡¹ç›® 3</li>
            </ul>
        </div>
    </div>
    
    <div class="section">
        <h2>2. HTML Details æµ‹è¯•</h2>
        <p>ä½¿ç”¨HTML5åŸç”Ÿçš„ <code>&lt;details&gt;</code> å…ƒç´ ï¼š</p>
        
        <details>
            <summary>ğŸ“‹ ç‚¹å‡»å±•å¼€è¯¦ç»†ä¿¡æ¯</summary>
            <div style="padding: 10px; margin-top: 10px;">
                <p>è¿™æ˜¯detailså…ƒç´ ä¸­çš„éšè—å†…å®¹ã€‚åœ¨PDFå¯¼å‡ºæ—¶åº”è¯¥è‡ªåŠ¨å±•å¼€ã€‚</p>
                <p><strong>é‡è¦æç¤ºï¼š</strong>Detailså…ƒç´ çš„ä¼˜åŠ¿æ˜¯æ— éœ€JavaScriptå³å¯å®ç°æŠ˜å æ•ˆæœã€‚</p>
            </div>
        </details>
        
        <details>
            <summary>ğŸ” å¦ä¸€ä¸ªæŠ˜å åŒºåŸŸ</summary>
            <div style="padding: 10px; margin-top: 10px;">
                <p>ç¬¬äºŒä¸ªæŠ˜å åŒºåŸŸçš„å†…å®¹ã€‚</p>
                <pre>
ä»£ç å—ç¤ºä¾‹:
function test() {
    console.log('Hello World');
}
                </pre>
            </div>
        </details>
    </div>
    
    <div class="section">
        <h2>3. Hiddenç±»æµ‹è¯•</h2>
        <p>ä½¿ç”¨ <code>.hidden</code> ç±»éšè—çš„å†…å®¹ï¼š</p>
        <button onclick="toggleHidden('hidden1')">åˆ‡æ¢æ˜¾ç¤º</button>
        
        <div id="hidden1" class="hidden" style="background: #fce7f3; padding: 15px; margin: 10px 0; border-radius: 5px;">
            <h3>éšè—å†…å®¹åŒºåŸŸ</h3>
            <p>è¿™æ®µå†…å®¹ä½¿ç”¨äº† <code>display: none</code>ï¼Œåœ¨PDFå¯¼å‡ºæ—¶åº”è¯¥è‡ªåŠ¨æ˜¾ç¤ºã€‚</p>
            <p style="color: #be123c;">æ³¨æ„ï¼šåŒ…å«è„šæœ¬å’Œæ ·å¼çš„hiddenå…ƒç´ ä¸ä¼šè¢«å±•å¼€ã€‚</p>
        </div>
    </div>
    
    <div class="section">
        <h2>4. åµŒå¥—æŠ˜å æµ‹è¯•</h2>
        <p>æµ‹è¯•å¤šå±‚åµŒå¥—çš„æŠ˜å å†…å®¹ï¼š</p>
        
        <details>
            <summary>ğŸ¯ å¤–å±‚æŠ˜å </summary>
            <div style="padding: 10px; margin-top: 10px;">
                <p>å¤–å±‚å†…å®¹...</p>
                
                <details style="margin: 10px 0;">
                    <summary>ğŸ“¦ å†…å±‚æŠ˜å </summary>
                    <div style="padding: 10px; background: #ffffff;">
                        <p>è¿™æ˜¯åµŒå¥—çš„æŠ˜å å†…å®¹ã€‚PDFå¯¼å‡ºæ—¶åº”è¯¥é€’å½’å±•å¼€æ‰€æœ‰å±‚çº§ã€‚</p>
                        
                        <div class="collapsible-content collapsed" id="nested-collapsed">
                            <p>ç”šè‡³åŒ…å«CSSæŠ˜å çš„å†…å®¹ï¼</p>
                        </div>
                        <button onclick="toggleCollapsed('nested-collapsed')">å±•å¼€CSSæŠ˜å å†…å®¹</button>
                    </div>
                </details>
            </div>
        </details>
    </div>
    
    <div class="section">
        <h2>5. æ··åˆå†…å®¹æµ‹è¯•</h2>
        <p>åŒæ—¶æµ‹è¯•å¤šç§æŠ˜å æ–¹å¼ï¼š</p>
        
        <div id="mixed1" class="collapsible-content collapsed">
            <details>
                <summary>æŠ˜å ä¸­çš„details</summary>
                <p>è¿™æ˜¯åœ¨CSSæŠ˜å å®¹å™¨ä¸­çš„detailså…ƒç´ ã€‚</p>
            </details>
        </div>
        <button onclick="toggleCollapsed('mixed1')">å±•å¼€æŸ¥çœ‹</button>
    </div>
    
    <hr style="margin: 40px 0; border: 1px solid #e5e7eb;">
    
    <footer style="text-align: center; color: #6b7280; font-size: 14px;">
        <p><strong>æµ‹è¯•è¯´æ˜ï¼š</strong></p>
        <ol style="text-align: left; display: inline-block;">
            <li>åœ¨é¡µé¢ä¸­æ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®ï¼Œç¡®è®¤æŠ˜å /å±•å¼€åŠŸèƒ½æ­£å¸¸</li>
            <li>å°†æ­¤HTMLåµŒå…¥iframeå¹¶å¯¼å‡ºPDF</li>
            <li>æ£€æŸ¥PDFä¸­æ‰€æœ‰æŠ˜å å†…å®¹æ˜¯å¦éƒ½å·²å±•å¼€æ˜¾ç¤º</li>
            <li>å¯¼å‡ºå®Œæˆåï¼Œæ£€æŸ¥é¡µé¢æŠ˜å çŠ¶æ€æ˜¯å¦æ¢å¤</li>
        </ol>
    </footer>
    
    <script>
        function toggleCollapsed(id) {
            const elem = document.getElementById(id);
            if (elem) {
                elem.classList.toggle('collapsed');
            }
        }
        
        function toggleHidden(id) {
            const elem = document.getElementById(id);
            if (elem) {
                elem.classList.toggle('hidden');
            }
        }
        
        // æ¨¡æ‹ŸPDFå¯¼å‡ºå±•å¼€æµç¨‹
        function simulateExport() {
            console.log('=== æ¨¡æ‹ŸPDFå¯¼å‡º ===');
            const collapsedElements = [];
            
            // æŸ¥æ‰¾æ‰€æœ‰æŠ˜å å…ƒç´ 
            const collapsedItems = document.querySelectorAll('.collapsed');
            console.log(`æ‰¾åˆ° ${collapsedItems.length} ä¸ª .collapsed å…ƒç´ `);
            collapsedItems.forEach(elem => {
                collapsedElements.push(elem);
                elem.classList.remove('collapsed');
            });
            
            const detailsElements = document.querySelectorAll('details:not([open])');
            console.log(`æ‰¾åˆ° ${detailsElements.length} ä¸ªæœªå±•å¼€çš„ details å…ƒç´ `);
            detailsElements.forEach(elem => {
                collapsedElements.push({ elem, type: 'details' });
                elem.setAttribute('open', '');
            });
            
            const hiddenElements = document.querySelectorAll('.hidden:not(script):not(style)');
            console.log(`æ‰¾åˆ° ${hiddenElements.length} ä¸ª .hidden å…ƒç´ `);
            hiddenElements.forEach(elem => {
                if (elem.textContent.trim() || elem.querySelector('img, svg, canvas')) {
                    collapsedElements.push({ elem, type: 'hidden' });
                    elem.classList.remove('hidden');
                }
            });
            
            console.log(`æ€»å…±å±•å¼€äº† ${collapsedElements.length} ä¸ªå…ƒç´ `);
            alert(`å·²å±•å¼€ ${collapsedElements.length} ä¸ªæŠ˜å å…ƒç´ ã€‚\n3ç§’åå°†æ¢å¤åŸå§‹çŠ¶æ€ã€‚`);
            
            // 3ç§’åæ¢å¤
            setTimeout(() => {
                collapsedElements.forEach(item => {
                    if (item.type === 'details') {
                        item.elem.removeAttribute('open');
                    } else if (item.type === 'hidden') {
                        item.elem.classList.add('hidden');
                    } else if (item.classList) {
                        item.classList.add('collapsed');
                    }
                });
                console.log('å·²æ¢å¤æŠ˜å çŠ¶æ€');
                alert('æŠ˜å çŠ¶æ€å·²æ¢å¤ï¼');
            }, 3000);
        }
        
        // æ·»åŠ æµ‹è¯•æŒ‰é’®
        document.addEventListener('DOMContentLoaded', function() {
            const btn = document.createElement('button');
            btn.textContent = 'ğŸ§ª æ¨¡æ‹ŸPDFå¯¼å‡ºæµç¨‹';
            btn.style.cssText = 'position: fixed; bottom: 20px; right: 20px; padding: 15px 25px; background: #3b82f6; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1); z-index: 9999;';
            btn.onclick = simulateExport;
            document.body.appendChild(btn);
        });
    </script>
</body>
</html>
